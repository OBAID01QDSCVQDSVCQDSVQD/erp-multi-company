# نظام إدارة المؤسسات المتعدد الشركات (ERP)

حل شامل لإدارة المؤسسات متعدد الشركات مطور باستخدام Next.js و MongoDB.

## المميزات

### إدارة إعدادات التطبيق
- تكوين متعدد الشركات
- إعدادات المستخدمين والصلاحيات
- تكوين العملات والصيغ

### إدارة عائلات المنتجات والخدمات
- فئات هرمية
- رموز وأوصاف
- إدارة حسب الشركة

### إدارة المنتجات والخدمات
- كتالوج شامل
- إدارة الأسعار والضريبة
- تتبع المخزون
- رموز منتجات فريدة

### إدارة الموردين
- معلومات شاملة
- شروط الدفع
- التفاصيل المصرفية
- تاريخ الطلبات

### إدارة العملاء
- قاعدة بيانات العملاء
- عناوين الفواتير
- المعلومات الضريبية
- تاريخ المبيعات

### الوثائق التجارية
- عروض الأسعار
- أذون التسليم
- الفواتير
- ملاحظات الشرف
- الإعتمادات

### إدارة المدفوعات
- تتبع المدفوعات
- الجداول الزمنية
- التذكيرات التلقائية
- سجل المبيعات

### إدارة المخزون
- أذون الدخول والخروج
- الجرد
- تنبيهات المخزون
- التقييم

### التحويلات
- عرض سعر → إذن تسليم
- إذن تسليم → فاتورة
- سير عمل آلي

### الإحصائيات والتقارير
- لوحات القيادة
- تقارير المبيعات
- التحليلات المالية
- تصدير البيانات

### متعدد المستخدمين
- إدارة الأدوار
- صلاحيات مفصلة
- سجل التدقيق
- أمان متقدم

## التقنيات المستخدمة

- **الواجهة الأمامية**: Next.js 14, React, TypeScript, Tailwind CSS
- **الخلفية**: Next.js API Routes, MongoDB, Mongoose
- **المصادقة**: NextAuth.js
- **واجهة المستخدم**: Headless UI, Heroicons
- **التحقق**: Zod, React Hook Form

## التثبيت

1. استنساخ المستودع
```bash
git clone <repository-url>
cd erp-multi-company
```

2. تثبيت التبعيات
```bash
npm install
```

3. تكوين متغيرات البيئة
أنشئ ملف `.env.local`:
```env
MONGODB_URI=mongodb://localhost:27017/erp-multi-company
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your-secret-key-here
NEXT_PUBLIC_APP_NAME=ERP Multi-Entreprises
NEXT_PUBLIC_APP_VERSION=1.0.0
```

4. تشغيل MongoDB
تأكد من أن MongoDB يعمل على جهازك.

5. تشغيل التطبيق
```bash
npm run dev
```

أو استخدم ملفات التشغيل:
- Windows: `start.bat`
- Linux/Mac: `./start.sh`

سيكون التطبيق متاحاً على [http://localhost:3000](http://localhost:3000)

## هيكل المشروع

```
src/
├── app/                    # صفحات Next.js
│   ├── api/               # مسارات API
│   ├── auth/              # صفحات المصادقة
│   └── dashboard/         # صفحات لوحة القيادة
├── components/            # مكونات React
│   └── Layout/           # مكونات التخطيط
├── lib/                  # المرافق والتكوين
│   ├── models/           # نماذج Mongoose
│   ├── auth.ts           # تكوين NextAuth
│   ├── config.ts         # تكوين التطبيق
│   └── mongodb.ts        # اتصال MongoDB
└── types/                # أنواع TypeScript
```

## الاستخدام

1. **أول تسجيل دخول**: أنشئ حساب مدير
2. **التكوين**: قم بتكوين شركتك الأولى
3. **المستخدمين**: أضف مستخدمين مع الصلاحيات المناسبة
4. **البيانات**: ابدأ بإضافة منتجاتك وعملائك ومورديك
5. **الفواتير**: أنشئ عروض أسعار وفواتيرك الأولى

## التطوير

### إضافة ميزات جديدة
1. أنشئ نموذج Mongoose في `src/lib/models/`
2. أضف مسارات API في `src/app/api/`
3. أنشئ مكونات UI في `src/components/`
4. أضف الصفحات في `src/app/`

### قاعدة البيانات
يستخدم المشروع MongoDB مع Mongoose لنمذجة البيانات. كل شركة لديها بياناتها المعزولة.

### الأمان
- مصادقة مع NextAuth.js
- التحقق من البيانات مع Zod
- حماية CSRF مدمجة
- صلاحيات مفصلة لكل مستخدم

## المساهمة

1. انسخ المشروع
2. أنشئ فرعاً لميزتك
3. اكتب تغييراتك
4. ادفع إلى الفرع
5. افتح طلب سحب

## الترخيص

هذا المشروع مرخص تحت رخصة MIT. راجع ملف LICENSE لمزيد من التفاصيل.

## الدعم

للدعم التقني أو الاستفسارات، يرجى فتح issue في المستودع.

## الإصدارات

- **v1.0.0**: الإصدار الأولي مع جميع الميزات الأساسية
